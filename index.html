<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Ramazan Ä°msakiye | Alanya</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#efe3d3;
  --text:#2f2f2f; /* antrasit */
  --accent:#b89b6a;
}

*{box-sizing:border-box}

body{
  background:
    linear-gradient(rgba(239,227,211,.94), rgba(239,227,211,.94)),
    url("https://i.ibb.co/W42LYr84/Whats-App-mage-2026-02-16-at-21-54-28.jpg");
  background-size:cover;
  background-position:center center;
  background-repeat:no-repeat;
  font-family:"Segoe UI",system-ui,Arial,sans-serif;
  color:var(--text);
  margin:0;
}

/* ðŸ”¹ CANLI SAAT */
.live-clock{
  position:fixed;
  top:20px;
  right:30px;
  font-size:26px;
  font-weight:700;
  color:#2f2f2f;
  opacity:.9;
  background:rgba(255,255,255,.6);
  padding:10px 16px;
  border-radius:14px;
  box-shadow:0 4px 12px rgba(0,0,0,.2);
  backdrop-filter: blur(4px);
  z-index:999;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
}

/* ðŸ”¹ HAVA DURUMU */
.hava-durumu{
  position:fixed;
  top:20px;
  left:30px;
  font-size:22px;
  font-weight:600;
  color:#2f2f2f; /* antrasit */
  background:rgba(255,255,255,.6);
  padding:8px 12px;
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  backdrop-filter: blur(4px);
  z-index:999;
  display:flex;
  align-items:center;
  gap:6px;
}

.container{
  max-width:1400px;
  margin:auto;
  padding:36px;
}

.header{
  text-align:center;
  margin-bottom:40px;
}

.header h1{
  font-size:52px;
  letter-spacing:1px;
  margin:0;
  text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
}

.header .date{
  font-size:26px;
  margin-top:10px;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
}

/* ðŸ”¹ Ä°ftara kalan sÃ¼re */
.countdown{
  margin:40px auto;
  text-align:center;
  font-size:60px;
  font-weight:700;
  color:#2f2f2f; /* antrasit */
  text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
}

.countdown span{
  font-size:22px;
  display:block;
  color:#555;
}

.table-wrap{
  overflow:hidden;
  border-radius:16px;
  box-shadow:0 8px 28px rgba(0,0,0,.15);
}

table{
  width:100%;
  border-collapse:collapse;
  background:#fffdf9;
  font-size:28px;
}

th{
  background:#d8c7ae;
  padding:18px;
  font-weight:700;
}

td{
  padding:20px;
  border-top:1px solid #e1d4c2;
  text-align:center;
}

.info{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:36px;
  margin-top:40px;
}

/* ðŸ”¹ GÃ¼nÃ¼n bilgisi ve Hadis-i Åžerif kartlarÄ± antrasit */
.card{
  background:#fffdf9;
  padding:28px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.12);
  color:#2f2f2f; /* antrasit */
}

.card h3{
  margin-top:0;
  margin-bottom:14px;
  color:#2f2f2f; /* antrasit */
  font-size:28px;
  text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
}

.hadis{
  font-size:22px;
  line-height:1.8;
  opacity:0;
  animation:fadeIn 2s forwards;
}

.footer{
  margin-top:40px;
  text-align:center;
  font-size:20px;
  opacity:.9;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
}

@keyframes fadeIn{
  to{opacity:1}
}

@media(max-width:900px){
  .info{grid-template-columns:1fr}
  table{font-size:22px}
  .countdown{font-size:40px}
  .header h1{font-size:36px}
}
</style>
</head>

<body>

<!-- ðŸ”¹ CANLI SAAT -->
<div class="live-clock" id="canliSaat">--:--:--</div>

<!-- ðŸ”¹ HAVA DURUMU -->
<div class="hava-durumu" id="havaDurumu">YÃ¼kleniyor...</div>

<div class="container">

  <div class="header">
    <h1>DÄ°MÃ‡AYI MECÄ°DÄ°YE TALEBE YURDU</h1>
    <div class="date" id="tarih"></div>
  </div>

  <div class="countdown" id="geriSayim">
    --:--:-- 
    <span>Ä°ftara kalan sÃ¼re</span>
  </div>

  <div class="table-wrap">
    <table>
      <tr>
        <th>Ä°msak</th>
        <th>GÃ¼neÅŸ</th>
        <th>Sabah</th>
        <th>Ã–ÄŸle</th>
        <th>Ä°kindi</th>
        <th>Ä°ftar</th>
        <th>YatsÄ±</th>
      </tr>
      <tr>
        <td id="imsak"></td>
        <td id="gunes"></td>
        <td id="sabah"></td>
        <td id="ogle"></td>
        <td id="ikindi"></td>
        <td id="iftar"></td>
        <td id="yatsi"></td>
      </tr>
    </table>
  </div>

  <div class="info">
    <div class="card">
      <h3>GÃ¼nÃ¼n Bilgisi</h3>
      <p><strong>Hicri Tarih:</strong> <span id="hicri"></span></p>
      <p><strong>Ä°ftar Sahibi:</strong> <span id="iftarSahibi"></span></p>
    </div>

    <div class="card">
      <h3>Hadis-i Åžerif</h3>
      <div class="hadis" id="hadis"></div>
    </div>
  </div>

  <div class="footer">
    RAMAZAN-I ÅžERÄ°FÄ°MÄ°Z MÃœBAREK OLSUN!
  </div>

</div>

<script>
/* ðŸ”¹ CANLI SAAT */
function saatBaslat(){
  setInterval(()=>{
    const n=new Date();
    const h=String(n.getHours()).padStart(2,"0");
    const m=String(n.getMinutes()).padStart(2,"0");
    const s=String(n.getSeconds()).padStart(2,"0");
    document.getElementById("canliSaat").innerText=`${h}:${m}:${s}`;
  },1000);
}
saatBaslat();

/* ðŸ”¹ SHEET VERÄ°LERÄ° */
const sheetURL =
"https://opensheet.elk.sh/1g-xWk31ntN8qnc77mfnx4fUkiQKsCRJ8dN9y_hTHFwo/Sheet1";

fetch(sheetURL)
.then(r=>r.json())
.then(data=>{
  const today=new Date().toLocaleDateString("tr-TR");
  const d=data.find(x=>x.tarih===today);
  if(!d){alert("BugÃ¼nÃ¼n verisi bulunamadÄ±");return;}

  document.getElementById("tarih").innerText=`${d.gun} | ${d.tarih}`;
  ["imsak","gunes","sabah","ogle","ikindi","iftar","yatsi"]
    .forEach(k=>document.getElementById(k).innerText=d[k]);
  document.getElementById("hicri").innerText=d.hicri;
  document.getElementById("iftarSahibi").innerText=d.iftarSahibi;
  document.getElementById("hadis").innerText=d.hadis;

  geriSayim(d.iftar,d.imsak);
});

function geriSayim(iftar,imsak){
  setInterval(()=>{
    const now=new Date();
    let hedef=new Date();
    let label="Ä°ftara kalan sÃ¼re";

    let [h,m]=iftar.split(":");
    hedef.setHours(h,m,0);

    if(now>hedef){
      [h,m]=imsak.split(":");
      hedef=new Date(now);
      hedef.setDate(hedef.getDate()+1);
      hedef.setHours(h,m,0);
      label="Sahura kalan sÃ¼re";
    }

    const diff=hedef-now;
    const H=String(Math.floor(diff/3600000)).padStart(2,"0");
    const M=String(Math.floor(diff%3600000/60000)).padStart(2,"0");
    const S=String(Math.floor(diff%60000/1000)).padStart(2,"0");

    document.getElementById("geriSayim").innerHTML=
      `${H}:${M}:${S}<span>${label}</span>`;
  },1000);
}

/* ðŸ”¹ HAVA DURUMU */
const apiKey = "4dee05e6a0db398a01166b3c03312a36";
const city = "Alanya,tr";

async function havaDurumuGuncelle() {
  try {
    const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&lang=tr&appid=${apiKey}`);
    const data = await res.json();

    const sicaklik = Math.round(data.main.temp);
    const durum = data.weather[0].description;
    const icon = data.weather[0].icon;

    document.getElementById("havaDurumu").innerHTML = `
      <img src="https://openweathermap.org/img/wn/${icon}.png" alt="${durum}" style="vertical-align:middle; width:32px; height:32px;">
      ${sicaklik}Â°C | ${durum}
    `;
  } catch(err) {
    document.getElementById("havaDurumu").innerText = "Hava durumu alÄ±namadÄ±";
    console.error(err);
  }
}

// BaÅŸlangÄ±Ã§ta yÃ¼kle ve 10 dakikada bir gÃ¼ncelle
havaDurumuGuncelle();
setInterval(havaDurumuGuncelle, 600000);

</script>

</body>
</html>
